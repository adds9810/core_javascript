<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="asset/css/reset.css">
    <title>005. loding</title>
    <style>
        #loding{display:table;position:fixed;top:0;bottom:0;left:0;right:0;width:100%;height:100%;background:#fff;}
        #wrap{display:table;width:100%;height:100vh;}
        #wrap p, #loding p{display:table-cell;width:100%;text-align:center;font-size:20px;vertical-align:middle;}
    </style>
</head>
<body>
    <div id="loding">
        <p>로딩중...</p>
    </div>
    <div id="wrap">
        <p>보여질 페이지</p>
    </div>
    <script>
        /*  로딩페이지 만들기 */
        const loding = document.getElementById('loding');
        const lodingText = document.querySelector('#loding p');
        const wrapText = document.querySelector('#wrap p');

        /*
            * 문서의 로드시점
            - onload - window객체, 
                       원하는 객체가 로드되었을 때 사용가능 <body onload="">지정했을 시에는 
                       window.onload 설정이 무시됨.
            - DOMContentLoaded - html과 script 가 로드된 시점에 발생되는 이벤트 
                                 onload보다 먼저 발생. 
                                 ie8에서는 지원하지 않음.
            - jquery - $(window).load(function(){}) , $(window).ready(function(){}), $(window).bind(function(){})
        */
       // window.addEventListener('DOMContentLoaded',eventFuc);
        window.onload = ()=>{
            lodingText.innerText = "로딩완료!";
            setTimeout(function(){loding.style.display = 'none'},1000);
            
        }

        // onbeforeunload - 페이지 이동하거나 새로고침, 닫을 때 현재 페이지를 벗어날 건지 물어보는 함수
        window.onbeforeunload = () =>{
            return "페이지 정보가 저장되지 않습니다."; // 브라우저에 따라 물어보는 문구가 나올 수 있음..
        }
    </script>
</body>
</html>